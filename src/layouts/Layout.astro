---
export interface Props {
  title: string;
  description?: string;
  ogImage?: string;
  ogTitle?: string;
  ogDescription?: string;
}

const { 
  title, 
  description = "HOMEGROWN AT SIMEON",
  ogImage = "/og-image.jpg",
  ogTitle = title,
  ogDescription = description
} = Astro.props;

// Get site URL from environment, fallback to localhost for dev
const siteUrl = import.meta.env.SITE_URL || import.meta.env.PUBLIC_SITE_URL || "http://localhost:4321";
const ogImageUrl = ogImage.startsWith('http') ? ogImage : `${siteUrl}${ogImage}`;
const pageUrl = Astro.url.href;
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content={description} />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content={pageUrl} />
    <meta property="og:title" content={ogTitle} />
    <meta property="og:description" content={ogDescription} />
    <meta property="og:image" content={ogImageUrl} />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={ogTitle} />
    <meta name="twitter:description" content={ogDescription} />
    <meta name="twitter:image" content={ogImageUrl} />
    
    <link rel="icon" type="image/png" href="/Favicon.png" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Darker+Grotesque:wght@300..900&family=Lexend+Mega:wght@100..900&family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <title>{title}</title>
    <style>
      /* Prohibition Font Face */
      @font-face {
        font-family: 'Prohibition';
        src: url('/fonts/Prohibition-Regular.woff') format('woff');
        font-weight: 400;
        font-style: normal;
        font-display: swap;
      }
      
      /* Prohibition Font Class */
      .font-prohibition {
        font-family: 'Prohibition', 'Impact', 'Arial Black', sans-serif;
        font-weight: 400;
        font-style: normal;
        letter-spacing: 0.05em;
      }
      
      /* Font classes */
      .font-roboto-condensed {
        font-family: 'Roboto Condensed', sans-serif;
      }
      
      .font-roboto {
        font-family: 'Roboto', sans-serif;
      }
      
      .font-darker-grotesque {
        font-family: 'Darker Grotesque', sans-serif;
      }
      
      .font-lexend-mega {
        font-family: 'Lexend Mega', sans-serif;
      }
      
      /* Apply fonts to body and forms globally */
      body {
        font-family: 'Roboto', 'Darker Grotesque', sans-serif;
      }
      
      /* Apply Roboto Condensed to all form elements globally */
      form,
      form input,
      form textarea,
      form select,
      form option,
      form label,
      form button:not(.font-prohibition),
      form p,
      form span {
        font-family: 'Roboto Condensed', 'Roboto', sans-serif !important;
      }
      
      /* Ensure form placeholders also use Roboto Condensed */
      form input::placeholder,
      form textarea::placeholder {
        font-family: 'Roboto Condensed', 'Roboto', sans-serif !important;
      }
    </style>
  </head>
  <body>
    <slot />
  </body>
</html>